<!doctype html>
<html><head><meta charset="utf-8"><title>Manual Invites</title>
<style>body{font-family:Arial,sans-serif;padding:20px} .invite{border:1px solid #ddd;padding:12px;margin:8px 0} button{margin-left:8px}</style>
</head><body>
<h1>Pending Invites</h1>
<p>Click profile to open LinkedIn. Use "Copy message" to copy the personalized invite text and paste it into the LinkedIn invite dialog.</p>
<p><button id="openAll">Open all profiles</button> <button id="stopOpen">Stop</button> Delay <input id="delay" type="number" value="5000" style="width:80px"/> ms</p>
<div id="list">
</div>
<script>
(() => {
  let timer = null; let idx = 0;
  function getLinks() { return Array.from(document.querySelectorAll("#list a.profile-link[target=\"_blank\"]")); }
  function openNext() {
    const links = getLinks();
    if (idx >= links.length) { clearInterval(timer); timer = null; alert("All profiles opened"); return; }
    try { window.open(links[idx].href, "_blank"); } catch (e) { console.error(e); }
    idx++;
  }
  document.getElementById("openAll").addEventListener("click", () => {
    if (timer) return; idx = 0; const d = parseInt(document.getElementById("delay").value) || 5000; openNext(); timer = setInterval(openNext, d);
  });
  document.getElementById("stopOpen").addEventListener("click", () => { if (timer) { clearInterval(timer); timer = null; alert("Stopped"); } });
  // Hint: allow users to click individual links if they prefer manual control
})();
</script>
<p>When done, mark invites as sent via `manage.py send-invite <id> --force` or manually edit the DB.</p>
</body></html>